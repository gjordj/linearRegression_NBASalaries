"0","######################################"
"0","# MODEL TRAINING AND PARAMETER TUNING######################################################################"
"0","######################################"
"0","# INPUT: We need nba_train_x matrix from the feature matrix and the nba_train_y vector."
"0","# OUTPUT: The optimal lambda and alpha for the smallest RMSE, as well as the different RMSE, Rsquared, MAE for each lambda and alpha tried."
"0",""
"0",""
"0",""
"0","#####Explanation of glmnet#####"
"0","# glmnet, generalized linear models"
"0","# The elastic net combines the Lasso Regression Penalty(lambda1) with the Ridge Regression Penalty(lambda2). And we can adjust how much penalty by adjusting lambda1 or lambda2."
"0",""
"0","# However, glmnet has a single lambda and alpha(can be any value from 0-1):"
"0","# If alpha= 0, Lasso Penalty goes away and we're just left the  Ridge Regression Penalty or Ridge Regression. If alpha=1, Ridge Penalty goes away and we're just left the Lasso Penalty or Lasso Regression. When alpha is between 0 and 1 we get a mixture of the 2 penalties that does a better job shrinking correlated variables than either Lasso or Ridge does on their own."
"0",""
"0","# Lambda controls how much of the penalty to apply to the regression. When lambda= 0, the whole penalty goes away (Ridge and Lasso Penalties goes away) and we are just doing Standar Least Squares for Linear Regression (or maximum likelihood for logistic regression). When lambda>0 the Elastic-Net Penalty kicks in and we start shrinking parameter estimates."
"0",""
"0","# Using glmnet we will test different values for lambda and alpha."
"0","#####End of Explanation of glmnet#####"
"0",""
"0",""
"0","  # cv.glmnet: we want to use cross-validation to obtain the optimal values for lambda. By default it uses 10-Fold cross-validation. For that we need to specify the Training sets: The train_x to predict train_y."
"0",""
"0","# PARAMETERS: resampling method used: cv"
"0","train_control <- trainControl(method = ""cv"", number = 10)"
"0",""
"0","caret_mod <- train("
"0","  x = nba_train_x,"
"0","  y = nba_train_y,"
"0","  method = ""glmnet"","
"0","  preProc = c(""center"", ""scale"", ""zv"", ""nzv""),"
"0","  trControl = train_control,"
"0","  tuneLength = 10"
"0",")"
"0","caret_mod"
"1","glmnet"
"1"," "
"1","

"
"1","340"
"1",""
"1"," samples"
"1","
"
"1"," 25"
"1",""
"1"," predictor"
"1",""
"1","
"
"1","
"
"1","Pre-processing: centered (24), scaled (24), remove (1)"
"1"," "
"1","
"
"1","Resampling:"
"1"," "
"1","Cross-Validated (10 fold)"
"1"," "
"1","
"
"1","Summary of sample sizes:"
"1"," "
"1","306, 307, 306, 305, 307, 306, ..."
"1"," "
"1","
"
"1","Resampling results"
"1"," across tuning parameters"
"1",":

"
"1",""
"1","  alpha"
"1","  lambda     "
"1","  RMSE   "
"1","  Rsquared "
"1","  MAE    "
"1","
"
"1","  0.1  "
"1","     2224.515"
"1","  5117794"
"1","  0.5454603"
"1","  3839897"
"1","
"
"1","  0.1  "
"1","     5138.917"
"1","  5116656"
"1","  0.5456137"
"1","  3839266"
"1","
"
"1","  0.1  "
"1","    11871.566"
"1","  5098154"
"1","  0.5483221"
"1","  3830375"
"1","
"
"1","  0.1  "
"1","    27424.857"
"1","  5066960"
"1","  0.5527852"
"1","  3812680"
"1","
"
"1","  0.1  "
"1","    63354.979"
"1","  5022806"
"1","  0.5593560"
"1","  3786296"
"1","
"
"1","  0.1  "
"1","   146358.223"
"1","  4980673"
"1","  0.5644107"
"1","  3750996"
"1","
"
"1","  0.1  "
"1","   338106.486"
"1","  4942559"
"1","  0.5684102"
"1","  3703105"
"1","
"
"1","  0.1  "
"1","   781069.855"
"1","  4930806"
"1","  0.5685897"
"1","  3660129"
"1","
"
"1","  0.1  "
"1","  1804372.714"
"1","  5013627"
"1","  0.5565176"
"1","  3703617"
"1","
"
"1","  0.1  "
"1","  4168335.102"
"1","  5252188"
"1","  0.5310015"
"1","  3974872"
"1","
"
"1","  0.2  "
"1","     2224.515"
"1","  5141363"
"1","  0.5422001"
"1","  3850745"
"1","
"
"1","  0.2  "
"1","     5138.917"
"1","  5125524"
"1","  0.5443706"
"1","  3844190"
"1","
"
"1","  0.2  "
"1","    11871.566"
"1","  5093510"
"1","  0.5489457"
"1","  3829064"
"1","
"
"1","  0.2  "
"1","    27424.857"
"1","  5052845"
"1","  0.5550826"
"1","  3808290"
"1","
"
"1","  0.2  "
"1","    63354.979"
"1","  4997794"
"1","  0.5633506"
"1","  3774745"
"1","
"
"1","  0.2  "
"1","   146358.223"
"1","  4947041"
"1","  0.5695273"
"1","  3727434"
"1","
"
"1","  0.2  "
"1","   338106.486"
"1","  4898453"
"1","  0.5754636"
"1","  3663253"
"1","
"
"1","  0.2  "
"1","   781069.855"
"1","  4926257"
"1","  0.5691151"
"1","  3637578"
"1","
"
"1","  0.2  "
"1","  1804372.714"
"1","  5122360"
"1","  0.5385227"
"1","  3796284"
"1","
"
"1","  0.2  "
"1","  4168335.102"
"1","  5402596"
"1","  0.5240863"
"1","  4179900"
"1","
"
"1","  0.3  "
"1","     2224.515"
"1","  5140789"
"1","  0.5422818"
"1","  3850438"
"1","
"
"1","  0.3  "
"1","     5138.917"
"1","  5121749"
"1","  0.5448938"
"1","  3842885"
"1","
"
"1","  0.3  "
"1","    11871.566"
"1","  5087155"
"1","  0.5498861"
"1","  3826562"
"1","
"
"1","  0.3  "
"1","    27424.857"
"1","  5037233"
"1","  0.5576759"
"1","  3801910"
"1","
"
"1","  0.3  "
"1","    63354.979"
"1","  4978700"
"1","  0.5660809"
"1","  3763238"
"1","
"
"1","  0.3  "
"1","   146358.223"
"1","  4917806"
"1","  0.5741746"
"1","  3703735"
"1","
"
"1","  0.3  "
"1","   338106.486"
"1","  4875229"
"1","  0.5789392"
"1","  3632728"
"1","
"
"1","  0.3  "
"1","   781069.855"
"1","  4960499"
"1","  0.5624675"
"1","  3647266"
"1","
"
"1","  0.3  "
"1","  1804372.714"
"1","  5183836"
"1","  0.5331067"
"1","  3881152"
"1","
"
"1","  0.3  "
"1","  4168335.102"
"1","  5618974"
"1","  0.5045224"
"1","  4422513"
"1","
"
"1","  0.4  "
"1","     2224.515"
"1","  5121618"
"1","  0.5454627"
"1","  3843850"
"1","
"
"1","  0.4  "
"1","     5138.917"
"1","  5110555"
"1","  0.5467733"
"1","  3838348"
"1","
"
"1","  0.4  "
"1","    11871.566"
"1","  5079046"
"1","  0.5511927"
"1","  3822967"
"1","
"
"1","  0.4  "
"1","    27424.857"
"1","  5021147"
"1","  0.5603599"
"1","  3794824"
"1","
"
"1","  0.4  "
"1","    63354.979"
"1","  4962117"
"1","  0.5685127"
"1","  3751768"
"1","
"
"1","  0.4  "
"1","   146358.223"
"1","  4897237"
"1","  0.5772605"
"1","  3686747"
"1","
"
"1","  0.4  "
"1","   338106.486"
"1","  4867327"
"1","  0.5799619"
"1","  3614860"
"1","
"
"1","  0.4  "
"1","   781069.855"
"1","  5017798"
"1","  0.5519840"
"1","  3688510"
"1","
"
"1","  0.4  "
"1","  1804372.714"
"1","  5246940"
"1","  0.5295931"
"1","  3974474"
"1","
"
"1","  0.4  "
"1","  4168335.102"
"1","  5858070"
"1","  0.4790800"
"1","  4666144"
"1","
"
"1","  0.5  "
"1","     2224.515"
"1","  5122568"
"1","  0.5447761"
"1","  3843188"
"1","
"
"1","  0.5  "
"1","     5138.917"
"1","  5103592"
"1","  0.5475306"
"1","  3834389"
"1","
"
"1","  0.5  "
"1","    11871.566"
"1","  5070986"
"1","  0.5524584"
"1","  3819756"
"1","
"
"1","  0.5  "
"1","    27424.857"
"1","  5004798"
"1","  0.5631263"
"1","  3786489"
"1","
"
"1","  0.5  "
"1","    63354.979"
"1","  4946926"
"1","  0.5709798"
"1","  3740802"
"1","
"
"1","  0.5  "
"1","   146358.223"
"1","  4878914"
"1","  0.5800772"
"1","  3669447"
"1","
"
"1","  0.5  "
"1","   338106.486"
"1","  4872183"
"1","  0.5786882"
"1","  3606468"
"1","
"
"1","  0.5  "
"1","   781069.855"
"1","  5086834"
"1","  0.5393728"
"1","  3746446"
"1","
"
"1","  0.5  "
"1","  1804372.714"
"1","  5332016"
"1","  0.5225481"
"1","  4082723"
"1","
"
"1","  0.5  "
"1","  4168335.102"
"1","  6125399"
"1","  0.4377961"
"1","  4914709"
"1","
"
"1","  0.6  "
"1","     2224.515"
"1","  5102473"
"1","  0.5477509"
"1","  3834796"
"1","
"
"1","  0.6  "
"1","     5138.917"
"1","  5094074"
"1","  0.5488905"
"1","  3830558"
"1","
"
"1","  0.6  "
"1","    11871.566"
"1","  5062759"
"1","  0.5537875"
"1","  3816974"
"1","
"
"1","  0.6  "
"1","    27424.857"
"1","  4993502"
"1","  0.5648399"
"1","  3780432"
"1","
"
"1","  0.6  "
"1","    63354.979"
"1","  4934350"
"1","  0.5729041"
"1","  3730701"
"1","
"
"1","  0.6  "
"1","   146358.223"
"1","  4866390"
"1","  0.5820362"
"1","  3654154"
"1","
"
"1","  0.6  "
"1","   338106.486"
"1","  4886963"
"1","  0.5757903"
"1","  3603760"
"1","
"
"1","  0.6  "
"1","   781069.855"
"1","  5132368"
"1","  0.5321558"
"1","  3794526"
"1","
"
"1","  0.6  "
"1","  1804372.714"
"1","  5432217"
"1","  0.5123217"
"1","  4201547"
"1","
"
"1","  0.6  "
"1","  4168335.102"
"1","  6299820"
"1","  0.4296185"
"1","  5062016"
"1","
"
"1","  0.7  "
"1","     2224.515"
"1","  5100756"
"1","  0.5480480"
"1","  3833426"
"1","
"
"1","  0.7  "
"1","     5138.917"
"1","  5094157"
"1","  0.5488878"
"1","  3831525"
"1","
"
"1","  0.7  "
"1","    11871.566"
"1","  5055625"
"1","  0.5549254"
"1","  3814151"
"1","
"
"1","  0.7  "
"1","    27424.857"
"1","  4983677"
"1","  0.5662753"
"1","  3774751"
"1","
"
"1","  0.7  "
"1","    63354.979"
"1","  4923559"
"1","  0.5744512"
"1","  3721470"
"1","
"
"1","  0.7  "
"1","   146358.223"
"1","  4857359"
"1","  0.5834030"
"1","  3639897"
"1","
"
"1","  0.7  "
"1","   338106.486"
"1","  4907421"
"1","  0.5718528"
"1","  3606066"
"1","
"
"1","  0.7  "
"1","   781069.855"
"1","  5154749"
"1","  0.5308889"
"1","  3826932"
"1","
"
"1","  0.7  "
"1","  1804372.714"
"1","  5537461"
"1","  0.5016342"
"1","  4320771"
"1","
"
"1","  0.7  "
"1","  4168335.102"
"1","  6477081"
"1","  0.4259076"
"1","  5198159"
"1","
"
"1","  0.8  "
"1","     2224.515"
"1","  5114397"
"1","  0.5460156"
"1","  3839267"
"1","
"
"1","  0.8  "
"1","     5138.917"
"1","  5093174"
"1","  0.5490747"
"1","  3831282"
"1","
"
"1","  0.8  "
"1","    11871.566"
"1","  5046127"
"1","  0.5565231"
"1","  3810234"
"1","
"
"1","  0.8  "
"1","    27424.857"
"1","  4974720"
"1","  0.5675995"
"1","  3769306"
"1","
"
"1","  0.8  "
"1","    63354.979"
"1","  4913577"
"1","  0.5759216"
"1","  3712658"
"1","
"
"1","  0.8  "
"1","   146358.223"
"1","  4850612"
"1","  0.5844388"
"1","  3627583"
"1","
"
"1","  0.8  "
"1","   338106.486"
"1","  4934816"
"1","  0.5667018"
"1","  3618330"
"1","
"
"1","  0.8  "
"1","   781069.855"
"1","  5184013"
"1","  0.5287663"
"1","  3865238"
"1","
"
"1","  0.8  "
"1","  1804372.714"
"1","  5656295"
"1","  0.4881073"
"1","  4449023"
"1","
"
"1","  0.8  "
"1","  4168335.102"
"1","  6659203"
"1","  0.4241159"
"1","  5333751"
"1","
"
"1","  0.9  "
"1","     2224.515"
"1","  5114441"
"1","  0.5459796"
"1","  3839517"
"1","
"
"1","  0.9  "
"1","     5138.917"
"1","  5091060"
"1","  0.5494011"
"1","  3830476"
"1","
"
"1","  0.9  "
"1","    11871.566"
"1","  5037590"
"1","  0.5579075"
"1","  3806388"
"1","
"
"1","  0.9  "
"1","    27424.857"
"1","  4967227"
"1","  0.5687000"
"1","  3764839"
"1","
"
"1","  0.9  "
"1","    63354.979"
"1","  4904236"
"1","  0.5773769"
"1","  3704775"
"1","
"
"1","  0.9  "
"1","   146358.223"
"1","  4847379"
"1","  0.5848043"
"1","  3620228"
"1","
"
"1","  0.9  "
"1","   338106.486"
"1","  4967184"
"1","  0.5605800"
"1","  3640910"
"1","
"
"1","  0.9  "
"1","   781069.855"
"1","  5221984"
"1","  0.5253230"
"1","  3912749"
"1","
"
"1","  0.9  "
"1","  1804372.714"
"1","  5789429"
"1","  0.4702686"
"1","  4576958"
"1","
"
"1","  0.9  "
"1","  4168335.102"
"1","  6841085"
"1","  0.4287927"
"1","  5466742"
"1","
"
"1","  1.0  "
"1","     2224.515"
"1","  5103009"
"1","  0.5482389"
"1","  3836116"
"1","
"
"1","  1.0  "
"1","     5138.917"
"1","  5088855"
"1","  0.5497143"
"1","  3829338"
"1","
"
"1","  1.0  "
"1","    11871.566"
"1","  5029095"
"1","  0.5593220"
"1","  3802713"
"1","
"
"1","  1.0  "
"1","    27424.857"
"1","  4960168"
"1","  0.5698265"
"1","  3760294"
"1","
"
"1","  1.0  "
"1","    63354.979"
"1","  4895482"
"1","  0.5787192"
"1","  3697234"
"1","
"
"1","  1.0  "
"1","   146358.223"
"1","  4846609"
"1","  0.5847573"
"1","  3614607"
"1","
"
"1","  1.0  "
"1","   338106.486"
"1","  5003114"
"1","  0.5536886"
"1","  3668352"
"1","
"
"1","  1.0  "
"1","   781069.855"
"1","  5273081"
"1","  0.5199058"
"1","  3968743"
"1","
"
"1","  1.0  "
"1","  1804372.714"
"1","  5911437"
"1","  0.4505485"
"1","  4684360"
"1","
"
"1","  1.0  "
"1","  4168335.102"
"1","  7040751"
"1","  0.4377896"
"1","  5609269"
"1","
"
"1","
"
"1","RMSE was used to select the optimal model using the smallest value.
"
"1","The final values used for the model were alpha = 1 and lambda = 146358.2."
"1","
"
"0","# alpha  lambda        RMSE      Rsquared   MAE   "
"0","# 0.7    0.1391783180  1.037163  0.5180505  0.7781468"
"0","##############################################################################################################"
